package dao;

import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;


import com.google.gson.JsonDeserializationContext;
import com.google.gson.JsonDeserializer;
import com.google.gson.JsonElement;
import com.google.gson.JsonParseException;
import com.google.gson.JsonPrimitive;
import com.google.gson.JsonSerializationContext;
import com.google.gson.JsonSerializer;

public class SerializadorLocalDateTime implements JsonSerializer<LocalDateTime>, JsonDeserializer<LocalDateTime> {

    // Objeto -> Json
    @Override
    public JsonElement serialize(LocalDateTime data, Type tipo, JsonSerializationContext serializador) {
        return new JsonPrimitive(
                data.format(DateTimeFormatter.ofPattern("dd/MM/yyyy H:m"))
        );
    }

    // Json -> Objeto
    @Override
    public LocalDateTime deserialize(JsonElement json, Type tipo, JsonDeserializationContext deserializador) throws JsonParseException {
        return LocalDateTime.parse(
                json.getAsString(), DateTimeFormatter.ofPattern("dd/MM/yyyy H:m")
        );
    }

	@Override
	public LocalDateTime deserialize(JsonElement json, java.lang.reflect.Type typeOfT,
			JsonDeserializationContext context) throws JsonParseException {
		// TODO Auto-generated method stub
		return null;
	}

	@Override
	public JsonElement serialize(LocalDateTime src, java.lang.reflect.Type typeOfSrc,
			JsonSerializationContext context) {
		// TODO Auto-generated method stub
		return null;
	}
}
